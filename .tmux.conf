# Tmux configuration file
# Reading materials
#   https://wiki.archlinux.org/index.php/Tmux
#   https://danielmiessler.com/study/tmux/
# PROPERTIES ##################################################################
set-option escape-time 10
set-option -g history-limit 5000
set-option -g display-panes-time 5000
set-option -g default-terminal "tmux-256color"
set-option -g mode-keys vi
set-option -g status-keys vi

# VISUALS #####################################################################
set-window-option -g allow-rename off
set-option -g status-left '[#S]'
set-option -g status-right '%a, %Y-%m-%d - %H:%M'
set-option -g status-justify absolute-centre
set-option -g base-index 1                  # Start window numbering at 1
set-option -g pane-base-index 1             # Start pane numbering at 1
set-option -g pane-border-status top        # Enable pane status bar on the top
set-option -g pane-border-format '#P:#{pane_current_command}'

# RUINER colourscheme
# set-option -g status-bg '#dc122a'
# set-option -g pane-border-style 'fg=#770005'
# set-option -g pane-active-border-style "fg=#dc122a"

# Mountains on Mars colourscheme
# set-option -g status-bg '#ea1646'
# set-option -g pane-border-style 'fg=#870d2c'
# set-option -g pane-active-border-style 'fg=#ea1646'

# Bookmark colourscheme
# set-option -g status-bg '#9c1513'
# set-option -g pane-border-style 'fg=#2f0807 align=centre'
# set-option -g pane-active-border-style "fg=#9c1513"

# Red Star colourscheme
set-option -g status-bg '#ed1c24'
set-option -g pane-border-style 'fg=#793533'
set-option -g pane-active-border-style "fg=#ed1c24"

# KEY BINDINGS ################################################################
# Remap prefix from 'Ctrl+b' to 'Alt+space'
unbind-key 'C-b'
set-option -g prefix 'M-space'
bind-key 'r' source-file ~/.tmux.conf         # Reload configuration
bind-key -n 'M-n' display-panes             # Display pane numbering

# Pane splitting
bind-key -n 'M-/' split-window -h
bind-key -n 'M--' split-window -v
unbind-key '"'
unbind-key '%'

# Pane navigation - Alt + h|j|k|l
bind-key -n 'M-h' select-pane -L
bind-key -n 'M-j' select-pane -D
bind-key -n 'M-k' select-pane -U
bind-key -n 'M-l' select-pane -R

# Alt + Shift + j|k to shift pane Down or Up the list
bind-key -n 'M-J' swap-pane -D
bind-key -n 'M-K' swap-pane -U

# Shift + Left|Right to swap current window with the one on the left|right
bind-key -n 'S-left' swap-window -t -1
bind-key -n 'S-right' swap-window -t +1

# Send copy-mode selection to both primary and clipboard - Source:
#   https://www.freecodecamp.org/news/tmux-in-practice-integration-with-system-clipboard-bcd72c62ff7b/
bind -T copy-mode-vi 'Enter' send-keys -X copy-pipe-and-cancel "xclip -i -f -selection primary | xclip -i -selection clipboard"

# THINGS THAT I ALWAYS FORGET #################################################
## Display keybindings:     <prefix>, '?'
## Toggle pane zoom:        <prefix>, 'z'
## Copy Mode:               '<prefix>', '[' or 'Alt' + 'v'
## Start text selection:    'space'       (in Copy Mode)
## Copy selection:          'Enter'       (after text selection in Copy Mode)
## Rename session:          '<prefix>', '$'
## Rename window:           '<prefix>', ','
## List sessions:           '<prefix>', 's'
## Move pane lines up:      'Ctrl' + 'e'
## Move pane lines down:    'Ctrl' + 'y'
## Resize pane:             '<prefix>', 'Alt|Shift' + 'up|down|left|right'
## Create new window:       '<prefix>', 'c'
## Go to previous window:   '<prefix>', 'p'
## Go to next window:       '<prefix>', 'n'
## Go to window number N:   '<prefix>', N
